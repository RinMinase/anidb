<anidb-navbar></anidb-navbar>

<div class="container-fluid manage-home">
	<div class="row">
		<div class="col-sm-2 hidden-xs">
			<div class="form-group">
				<a ng-href="#" ng-click="vm.addTitle()" class="btn btn-primary btn-block">
					<i class="fa fa-plus"></i>
					<span class="pl-2">Add</span>
				</a>
			</div>
		</div>

		<div class="col-xs-3 visible-xs hidden-sm hidden-md hidden-lg">
			<div class="form-group">
				<a ng-href="#" ng-click="vm.addTitle()" class="btn btn-primary btn-block">
					<i class="fa fa-plus"></i>
				</a>
			</div>
		</div>

		<div class="col-xs-9 col-sm-10">
			<div class="form-group has-feedback">
				<input type="text"
					class="form-control"
					ng-model="search"
					placeholder="Keywords (comma-separated): sort/order, quality, release, encoder, remarks, inhdd"
					value="">
				<button class="hidden">Submit</button>
				<span class="form-control-feedback">
					<i class="fa fa-search"></i>
				</span>
			</div>
		</div>
	</div>

	<div class="flex-form-container"
		ng-class="{'hidden': vm.dataLoaded === true}">
		<div class="cp-spinner cp-eclipse"></div>
	</div>

	<div class="row" ng-class="{'hidden': vm.dataLoaded === false}">
		<div class="col-md-12">
			<div class="table-responsive">
				<table class="table table-hover" id="animeTable">
					<thead>
						<tr>
							<th>Title</th>
							<th class="text-center">E / O / S</th>
							<th class="text-center">File Size</th>
							<th class="text-center">Date Finished</th>
							<th>Release</th>
							<th>Encoder</th>
						</tr>
					</thead>
					<!-- | filterBy: [
						'title',
						'quality',
						'releaseSeason',
						'releaseYear',
						'encoder',
						'variants',
						'remarks'
					]: search -->
					<tbody>
						<tr ng-repeat="data in vm.data
							| orderBy: !vm.$scope.search && ['quality','title']
							| fuzzyBy: 'title': search">

							<td ng-switch="data.quality">
								<div class="anime-legend-container">
									<div class="anime-legend anime-legend-uhd"
										uib-tooltip="{{ data.quality }}"
										tooltip-placement="right"
										ng-switch-when="4K 2160p">
									</div>
									<div class="anime-legend anime-legend-fhd"
										uib-tooltip="{{ data.quality }}"
										tooltip-placement="right"
										ng-switch-when="FHD 1080p">
									</div>
									<div class="anime-legend anime-legend-hd"
										uib-tooltip="{{ data.quality }}"
										tooltip-placement="right"
										ng-switch-when="HD 720p">
									</div>
									<div class="anime-legend anime-legend-hq"
										uib-tooltip="{{ data.quality }}"
										tooltip-placement="right"
										ng-switch-when="HQ 480p">
									</div>
									<div class="anime-legend anime-legend-lq"
										uib-tooltip="{{ data.quality }}"
										tooltip-placement="right"
										ng-switch-when="LQ 360p">
									</div>
								</div>

								<span>{{ data.title }}</span>
							</td>
							<td class="text-center">
								{{ data.episodes }} / {{ data.ovas }} / {{ data.specials }}
							</td>
							<td class="text-center">{{ data.filesize }}</td>
							<td class="text-center">{{ data.dateFinished }}</td>
							<td>{{ data.releaseSeason }} {{ data.releaseYear }}</td>
							<td>{{ data.encoder }}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<anidb-footer></anidb-footer>
